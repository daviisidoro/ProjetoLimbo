<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>UMBRA | LIMBO MONITOR</title>
    <style>
        /* ==========================================================================
           1. CORE & RESET
           ========================================================================== */
        :root {
            --bg-void: #000000;
            --bg-panel: #080808;
            --bg-border: #1a1a1a;
            --text-main: #d0d0d0;
            --font-tech: 'Courier New', monospace;
            --font-ui: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --font-header: 'Impact', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }

        body {
            background-color: var(--bg-void);
            color: var(--text-main);
            font-family: var(--font-ui);
            position: fixed; /* TRAVA O ZOOM */
            inset: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* TELA DE BOOT (INICIALIZAÇÃO) */
        #boot-layer {
            position: fixed; inset: 0; background: #000; z-index: 99999;
            padding: 20px; font-family: var(--font-tech); font-size: 12px; color: #fff;
            display: flex; flex-direction: column; justify-content: flex-end;
        }
        .boot-line { margin-bottom: 5px; opacity: 0; animation: typeLine 0.1s forwards; }
        .boot-cursor { animation: blink 0.8s infinite; }
        @keyframes typeLine { to { opacity: 1; } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* OVERLAYS (CRT / SCANLINE) */
        .fx-scan {
            position: absolute; inset: 0; pointer-events: none; z-index: 900;
            background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.4) 51%);
            background-size: 100% 4px; opacity: 0.5;
        }
        .fx-vignette {
            position: absolute; inset: 0; pointer-events: none; z-index: 899;
            background: radial-gradient(circle, transparent 50%, #000 130%);
        }

        /* ==========================================================================
           2. LAYOUT
           ========================================================================== */
        
        /* HEADER */
        header {
            height: 50px; background: var(--bg-panel); border-bottom: 1px solid var(--bg-border);
            display: flex; justify-content: space-between; align-items: center; padding: 0 15px; flex-shrink: 0; z-index: 100;
            padding-top: env(safe-area-inset-top);
        }
        .brand { font-family: var(--font-header); font-size: 20px; color: #fff; letter-spacing: 2px; }
        .brand span { font-family: var(--font-tech); font-size: 9px; color: #666; letter-spacing: 0px; margin-left: 5px; text-transform: uppercase; }

        /* AREA CENTRAL */
        #workspace { flex: 1; position: relative; display: flex; overflow: hidden; }

        /* SIDEBAR PC */
        #sidebar-pc {
            width: 250px; background: #050505; border-right: 1px solid var(--bg-border);
            display: flex; flex-direction: column; padding: 20px 0; z-index: 50;
        }

        /* PALCO */
        #stage { flex: 1; position: relative; background: var(--bg-void); overflow: hidden; }

        /* PAINÉIS */
        .panel {
            position: absolute; inset: 0; display: none; flex-direction: column;
            opacity: 0; animation: fadeIn 0.3s forwards;
        }
        .panel.active { display: flex; }
        @keyframes fadeIn { to { opacity: 1; } }

        /* MENU MOBILE */
        #mobile-nav {
            height: 60px; background: #080808; border-top: 1px solid var(--bg-border);
            display: flex; justify-content: space-around; align-items: center;
            flex-shrink: 0; padding-bottom: env(safe-area-inset-bottom); z-index: 200;
        }
        .mob-btn {
            background: transparent; border: none; color: #555;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            width: 100%; height: 100%;
        }
        .mob-btn.active { color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.4); }

        /* BOTÕES PC */
        .pc-btn {
            padding: 15px 20px; background: transparent; border: none; color: #777;
            text-align: left; font-family: var(--font-tech); font-size: 11px; cursor: pointer;
            border-left: 2px solid transparent;
        }
        .pc-btn.active { background: #111; color: #fff; border-left-color: #fff; }

        /* ==========================================================================
           3. CONTEÚDO
           ========================================================================== */
        
        /* MAPA */
        .map-wrap { width: 100%; height: 100%; position: relative; background: radial-gradient(circle at center, #111 0%, #000 100%); }
        .grid { position: absolute; inset: 0; opacity: 0.1; background-image: linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px); background-size: 40px 40px; }
        .dot { position: absolute; width: 10px; height: 10px; background: #fff; border-radius: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 10px #fff; }
        .pulse { position: absolute; inset: -10px; border: 1px solid #fff; border-radius: 50%; animation: pulse 2s infinite; opacity: 0; }
        @keyframes pulse { 0% { transform: scale(0.5); opacity: 1; } 100% { transform: scale(2.5); opacity: 0; } }

        /* TERMINAL */
        .term-wrap { padding: 15px; height: 100%; display: flex; flex-direction: column; font-family: var(--font-tech); font-size: 11px; }
        #term-log { flex: 1; overflow-y: auto; color: #aaa; margin-bottom: 10px; }
        .input-line { display: flex; border-top: 1px solid #333; padding-top: 10px; }
        #term-in { background: transparent; border: none; color: #fff; flex: 1; font-family: inherit; margin-left: 10px; font-size: 16px; }

        /* DATABASE */
        .db-wrap { display: flex; height: 100%; flex-direction: column; }
        .db-list { flex: 1; overflow-y: auto; padding: 10px; }
        .file-entry {
            display: block; width: 100%; padding: 15px; background: #0c0c0c; border: 1px solid #222;
            color: #888; margin-bottom: 8px; font-family: var(--font-tech); font-size: 10px; text-align: left;
        }
        .file-entry:active { background: #222; color: #fff; }

        .db-reader {
            position: absolute; inset: 0; background: #000; padding: 20px; overflow-y: auto; display: none; z-index: 20;
        }
        .db-reader.open { display: block; }

        /* MEDIA QUERIES */
        @media (min-width: 900px) {
            #mobile-nav { display: none; }
            .db-wrap { flex-direction: row; }
            .db-list { width: 300px; border-right: 1px solid #222; }
            .db-reader { position: static; display: block; flex: 1; border: none; }
        }
        @media (max-width: 899px) {
            #sidebar-pc { display: none; }
        }

    </style>
</head>
<body>

    <div id="boot-layer">
        </div>

    <div class="fx-scan"></div>
    <div class="fx-vignette"></div>

    <header>
        <div class="brand">UMBRA<span>LIMBO_NET</span></div>
        <div style="font-family: var(--font-tech); font-size: 10px; color: #666;">CONEXÃO: <span style="color:#fff">ATIVA</span></div>
    </header>

    <div id="workspace">
        
        <aside id="sidebar-pc">
            <button class="pc-btn active" onclick="go('map')">MAPA DE RUPTURAS</button>
            <button class="pc-btn" onclick="go('term')">TERMINAL DE COMANDO</button>
            <button class="pc-btn" onclick="go('db')">ARQUIVOS DO LIMBO</button>
            <div style="margin-top:auto; padding:20px; font-family:var(--font-tech); font-size:10px; color:#444;">
                VIGILANTE: ON<br>NÍVEL: 10
            </div>
        </aside>

        <main id="stage">
            
            <div id="view-map" class="panel active">
                <div class="map-wrap">
                    <div class="grid"></div>
                    <div class="dot" style="top:30%; left:20%;" onclick="alert('RUPTURA SP: ATIVIDADE ALTA')"><div class="pulse"></div></div>
                    <div class="dot" style="top:50%; left:50%;" onclick="alert('RUPTURA NY: SILENCIOSA')"><div class="pulse"></div></div>
                    <div class="dot" style="top:70%; left:80%;" onclick="alert('RUPTURA TOKYO: CRÍTICA')"><div class="pulse"></div></div>
                    
                    <div style="position: absolute; bottom: 20px; left: 20px; font-family: var(--font-tech); font-size: 10px; background: #000; padding: 10px; border: 1px solid #333; color: #fff;">
                        MONITORANDO FALHAS NA REALIDADE<br>
                        3 PORTAIS ABERTOS
                    </div>
                </div>
            </div>

            <div id="view-term" class="panel">
                <div class="term-wrap">
                    <div id="term-log">
                        <div class="line" style="color:#fff">SISTEMA DE VIGILÂNCIA UMBRA [v13.0]</div>
                        <div class="line">Conectado ao servidor do Limbo... OK</div>
                        <div class="line">Digite 'ajuda' para comandos.</div>
                    </div>
                    <div class="input-line">
                        <span>></span>
                        <input type="text" id="term-input" autocomplete="off">
                    </div>
                </div>
            </div>

            <div id="view-db" class="panel">
                <div class="db-wrap">
                    <div class="db-list">
                        <div style="padding:10px; font-size:10px; color:#555">ARQUIVOS DESCRIPTOGRAFADOS:</div>
                        <button class="file-entry" onclick="openFile(1)">#001 - O QUE É A UMBRA?</button>
                        <button class="file-entry" onclick="openFile(2)">#002 - TEORIA DO LIMBO</button>
                        <button class="file-entry" onclick="openFile(3)">#003 - AS BACKROOMS</button>
                        <button class="file-entry" onclick="openFile(4)">#004 - ENTIDADES</button>
                    </div>
                    <div class="db-reader" id="doc-view">
                        <button onclick="closeFile()" style="margin-bottom:15px; background:#222; border:none; color:#fff; padding:8px;">VOLTAR</button>
                        <div style="border-bottom:1px solid #333; margin-bottom:15px; padding-bottom:10px;">
                            <div style="font-size:18px; color:#fff; font-family:var(--font-header);" id="d-title">TÍTULO</div>
                        </div>
                        <div style="color:#aaa; font-size:13px; line-height:1.6; text-align:justify;" id="d-body">Selecione um arquivo.</div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <nav id="mobile-nav">
        <button class="mob-btn active" onclick="go('map')">
            <span style="font-size:18px;">⌖</span>
            <span style="font-size:9px; margin-top:3px;">MAPA</span>
        </button>
        <button class="mob-btn" onclick="go('term')">
            <span style="font-size:18px;">_</span>
            <span style="font-size:9px; margin-top:3px;">CMD</span>
        </button>
        <button class="mob-btn" onclick="go('db')">
            <span style="font-size:18px;">≡</span>
            <span style="font-size:9px; margin-top:3px;">DADOS</span>
        </button>
    </nav>

    <script>
        // 1. SEQUÊNCIA DE BOOT
        window.onload = function() {
            const boot = document.getElementById('boot-layer');
            const lines = [
                "INICIALIZANDO BIOS...",
                "CARREGANDO KERNEL DO LIMBO...",
                "DESCRIPTOGRAFANDO CHAVES...",
                "SINCRONIZANDO COM A REALIDADE...",
                "SISTEMA PRONTO."
            ];
            
            let delay = 0;
            lines.forEach((txt, i) => {
                setTimeout(() => {
                    const l = document.createElement('div');
                    l.className = 'boot-line';
                    l.innerText = "> " + txt;
                    boot.appendChild(l);
                    
                    if(i === lines.length - 1) {
                        setTimeout(() => {
                            boot.style.display = 'none';
                        }, 1000);
                    }
                }, delay);
                delay += 600;
            });
        };

        // 2. NAVEGAÇÃO
        function go(id) {
            document.querySelectorAll('.panel, .mob-btn, .pc-btn').forEach(e => e.classList.remove('active'));
            document.getElementById('view-' + id).classList.add('active');
            
            // Ativa botões (simples)
            const mobBtn = document.querySelector(`#mobile-nav button[onclick="go('${id}')"]`);
            if(mobBtn) mobBtn.classList.add('active');
            
            const pcBtn = document.querySelector(`#sidebar-pc button[onclick="go('${id}')"]`);
            if(pcBtn) pcBtn.classList.add('active');
        }

        // 3. ARQUIVOS (LORE DO LIMBO)
        const db = [
            {
                t: "O QUE É A UMBRA?",
                b: "A UMBRA NET é o sistema que nós, Vigilantes, usamos para monitorar as falhas na realidade. O Limbo não pode ser acessado fisicamente sem risco de morte, então usamos esta interface digital para vigiar as 'entradas' (glitches) e garantir que nada saia de lá."
            },
            {
                t: "TEORIA DO LIMBO",
                b: "O Limbo não é o inferno. É uma área de armazenamento temporário do universo. Quando um prédio é demolido, ou alguém desaparece sem deixar rastros, eles vão para o Limbo. É um lugar cinza, silencioso e infinito, feito de memórias descartadas."
            },
            {
                t: "AS BACKROOMS",
                b: "As 'Backrooms' são o nível mais superficial do Limbo. São escritórios amarelos infinitos onde o tempo não passa. Nossos sensores indicam alta atividade eletromagnética nessas áreas. É lá que a maioria dos humanos perdidos acaba caindo."
            },
            {
                t: "ENTIDADES",
                b: "O Limbo é habitado. As 'Sombras' são habitantes nativos que odeiam observação. Se você vir uma figura alta e escura no canto da visão, não olhe diretamente. A UMBRA NET rastreia essas entidades através de calor."
            }
        ];

        function openFile(idx) {
            const d = db[idx-1];
            document.getElementById('d-title').innerText = d.t;
            document.getElementById('d-body').innerText = d.b;
            document.getElementById('doc-view').classList.add('open');
        }

        function closeFile() {
            document.getElementById('doc-view').classList.remove('open');
        }

        // 4. TERMINAL
        const inp = document.getElementById('term-input');
        inp.addEventListener('keydown', (e) => {
            if(e.key === 'Enter') {
                const val = inp.value.toLowerCase();
                const log = document.getElementById('term-log');
                log.innerHTML += `<div style="color:#fff; margin-top:5px">> ${inp.value}</div>`;
                
                if(val === 'ajuda') log.innerHTML += `<div style="color:#888">CMD: status, ping, limpar</div>`;
                else if(val === 'status') log.innerHTML += `<div style="color:#0f0">MONITORAMENTO ATIVO.</div>`;
                else if(val === 'limpar') log.innerHTML = '';
                else log.innerHTML += `<div style="color:#f00">Comando inválido.</div>`;
                
                inp.value = '';
                log.scrollTop = log.scrollHeight;
            }
        });
    </script>
</body>
</html>
